{% load static %}

<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Travel Planner</title>

    <link rel="stylesheet" type="text/css" href="{% static 'draw/vendor/bootstrap/css/bootstrap.min.css' %}">
    <script type="text/javascript" src="{% static 'draw/vendor/jquery/jquery-3.3.1.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'draw/vendor/paper/paper-full.min.js' %}"></script>
	  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>  

	<style type="text/css">
    
    .title {
      font-size: 70px;
      font-family: "Courier";
      margin-top:3%;
      justify-content:center;
      text-shadow: 0 0 7px black;
      color: white;
      display: flex;
    }
    
/*     .frame {
      display: flex;
      border-radius: 15px;
      padding-top: 5px;
      padding-bottom: 5px;
      padding-left:15px;
			width: 75%;
			flex-wrap: wrap;
			top: 100px;
      align-items: center;
      margin-left: 12.5%;
      
      margin-top: 30px;
      flex-direction: column;
      position: absolute;

		  } */
    
     
    #timetable {
      background-color: #CCFFFF;
      height: 180px;
      margin-bottom: 30px;

    }
    
    #map {
      background-color: #CCFFFF;
      height: 180px;
      margin-bottom: 30px;
  
    }
    
    #todo {
      background-color: #CCFFFF;
      height: 180px;
      margin-bottom: 30px;
    }
    
    .container {
      display: block;
      position: relative;
      padding-left: 35px;
      margin-bottom: 12px;
      cursor: pointer;
      font-size: 22px;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
    }

    /* Hide the browser's default checkbox */
    .container input {
      position: absolute;
      opacity: 0;
      cursor: pointer;
      height: 0;
      width: 0;
    }

    /* Create a custom checkbox */
   .checkmark {
     position: absolute;
      top: 0;
      left: 0;
      height: 25px;
      width: 25px;
      background-color: #eee;
    }

    /* On mouse-over, add a grey background color */
  .container:hover input ~ .checkmark {
     background-color: #ccc;
    }

    /* When the checkbox is checked, add a blue background */
  .container input:checked ~ .checkmark {
      background-color: #2196F3;
    }

    /* Create the checkmark/indicator (hidden when not checked) */
  .checkmark:after {
      content: "";
      position: absolute;
      display: none;
    }

    /* Show the checkmark when checked */
  .container input:checked ~ .checkmark:after {
      display: block;
    }

    /* Style the checkmark/indicator */
  .container .checkmark:after {
      left: 9px;
      top: 5px;
      width: 5px;
      height: 10px;
      border: solid white;
      border-width: 0 3px 3px 0;
      -webkit-transform: rotate(45deg);
      -ms-transform: rotate(45deg);
      transform: rotate(45deg);
    }
    
	</style>

	<script type="text/javascript" canvas="canvas">
    
    
		window.onload = function() {
      //put stff you want to happen here
      
		}
    
    
	</script>
  
  
    <style type="text/css">
      <element onmousemove="myScript">
    </style>

</head>
<body style="background-color:powderblue; height:100vh">

<!--   <canvas id="myCanvas" width="1000px" height="1000px"></canvas> -->
  
   <div class="title">Travel Planner</div>
  
   <div class="frame">
     <div id="timetable">
       <h1>Timetable</h1>
       
       <form>
         
        8 am:<br>
        <input type="text">
        <br>
        9 am:<br>
        <input type="text">
        <br>
        10 am:<br>
        <input type="text">
        <br>
<!--        11 am:<br>
        <input type="text">
        <br>
         12 pm:<br>
        <input type="text">
        <br> 
        1 pm:<br>
        <input type="text">
        <br>
        2 pm:<br>
        <input type="text">
        <br> 
        3 pm:<br>
        <input type="text">
        <br> 
        4 pm:<br>
        <input type="text">
        <br>
        5pm:<br>
        <input type="text">
        <br> -->
         
        </form> 
     </div>
   </div>
    
   <div class="frame">
     <div id="map">Map</div>
   </div>
   
   <div class="frame">
     <div id="todo">
      <h1>To-Do List</h1>
       <label class="container">Visit the landmark
          <input type="checkbox" checked="checked">
          <span class="checkmark"></span>
        </label>

      <label class="container">Go up the tower
        <input type="checkbox">
        <span class="checkmark"></span>
      </label>

      <label class="container">See the beach
       <input type="checkbox">
       <span class="checkmark"></span>
      </label>

      <label class="container">Dine at restaurant
        <input type="checkbox">
        <span class="checkmark"></span>
      </label>
   </div>
   </div>
	
</body>
  
  
<script>

    // setting up the canvas and one paper tool
    var canvas = document.getElementById('myCanvas');
    paper.setup(canvas);
    var tool = new paper.Tool();

    // getting the URL (you may want to use for Exercise 3)
    var url = window.location.href;

    var socket = new WebSocket('wss://p3-websockets-DoubleEntendre69-ziba.codeanyapp.com/ws/draw');
  


var path;
tool.minDistance = 5;
path = new paper.Path();
var paths = {};
  
  
var user = Math.random();
var color = '#'+(0x1000000+(Math.random())*0xffffff).toString(16).substr(1,6);
path.strokeColor = color;

tool.onMouseDrag = function(event) {
      //newPoint is obj
    var newPoint = {
     'id': user,
     'x': event.point.x,
     'y': event.point.y,
     'color': color
     };
  
    socket.send(JSON.stringify(newPoint));
    path.add(event.point);

}


socket.onmessage = function(receivedMessage) {
    if (url.indexOf("?size=small")> -1){
      return;
    }
    //o is pointObj
    var pointObj = JSON.parse(receivedMessage.data);
    //var newPath = new paper.Path();
  
    var rID = (pointObj.id).toString();
    var rx = pointObj.x;
    var ry = pointObj.y;
    
    var newPoint = new paper.Point(pointObj.x, pointObj.y);
    var newColor = pointObj.color;
    //path.add(newPoint);
    
    if (!(rID in paths)) {
      paths[rID] = new paper.Path();
    }
    
  paths[rID].strokeColor = newColor;
  paths[rID].add(newPoint);
      
}


window.addEventListener('devicemotion', function(event) {
  
  var xAcceleration= Math.abs(event.acceleration.x);
  var yAcceleration= Math.abs(event.acceleration.y);
  
  if ((xAcceleration>12) || (yAcceleration>12)){
    paper.project.clear();
  }
  
});
  

  windown.addEventListener('deviceorientation', function (event) {
    
    if (event.gamma > 70) {
    //if ((currentOrient>45) && (gamma<30)){
      path.strokeColor='#'+(0x1000000+(Math.random())*0xffffff).toString(16).substr(1,6);
    }
    
    
  });

  
</script>
</html>




